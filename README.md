# compilers-1-AlexandrDaultukaev
compilers-1-AlexandrDaultukaev created by GitHub Classroom

### ИВ-921 Даултукаев Александр.

### Lab 2.
Лексер для языка C#

Для запуска необходимо:
* Склонировать этот репозиторий
* Установить Open JDK 7(или выше)
* Установить Antlr 4.9
* Установить Cmake 3
* GNU Make 4.3

Сборка грамматики:
(В корне репозитория)
```
chmod +x install_grammar.sh && ./install_grammar.sh
```

Сборка проекта:
(В корне репозитория)
```
mkdir build && cd build && cmake .. && cmake --build .
```

Опции для запуска: \
``--dump-tokens`` выводит все токены в терминал в формате: \
``Loc=<строчка, столбец> имя токена 'значение токена'`` \

``-f, --file``(required) \
ключ, указывающий лексеру какой файл разбить на токены \
Пример:
```
Loc=<29, 48> ZERO '0'
Loc=<29, 49> RRP ')'
Loc=<29, 50> SEMICOLON ';'
Loc=<29, 52> ID 'i'
Loc=<29, 53> UNARYMATHEXP '++'
```

Запуск проекта: \
Перейти в папку `build/bin` и запустить проект с ключом `--dump-tokens` с указанием любого файла, лежащего в `examples` после ключа `-f`:
```
cd build/bin && ./app --dump-tokens -f ../../examples/min.cs
```

### 1. Дана грамматика. Постройте вывод заданной цепочки.
a) S : T | T '+' S | T '-' S; \
   T : F | F '*' T; \
   F : 'a' | 'b';

Цепочка: a - b * a + b

<b>Ответ:</b>

``S -> T - S`` \
``-> F - S`` \
``-> F - T + S`` \
``-> a - T + S`` \
``-> a - F * T + S`` \
``-> a - F * T + T`` \
``-> a - b * T + T`` \
``-> a - b * F + T`` \
``-> a - b * F + F`` \
``-> a - F * T + T`` \
``-> a - b * a + b``
  
b) S : 'a' S B C | 'ab' C; \
   C B : B C; \
  'b' B : 'bb'; \
  'b' C : 'bc' ; \
  'c' C : 'cc';
  
<b>Ответ:</b>

``S -> aSBC`` \
``-> aaSBCBC`` \
<code>-> aaab<b>CBCB</b>C</code> <-- Меняем все CB на BC \
<code>-> aaabB<b>CB</b>CC</code> <-- Оставшуюся CB меняем на BC \
``-> aaabBBCCC`` \
``-> aaabbBCCC`` \
``-> aaabbbCCC`` \
``-> aaabbbcCC`` <-- 'b'C : 'bc' \
``-> aaabbbccc``

### 2.Построить грамматику, порождающую язык
![Снимок экрана от 2022-03-10 18-27-09](https://user-images.githubusercontent.com/60806892/157652742-26b06d9c-80a1-4e35-b343-d8ae6d0dfc2f.png)

a)

<b>Ответ:</b>

G({a,b,c}, {S,A,B,C}, P, S) \
P: \
S-> aA \
A-> aA | B \
B-> bB | C \
C-> cC | c 

b)

<b>Ответ:</b>

G({1,0,e}, {S,A}, P, S) \
P: \
S-> 0 | 0S | 10A | e  <-- e = epsilon \
A-> 10 | 10A | e \

c)

<b>Ответ:</b>

<i>Я предполагаю, что задание требует построение палиндрома</i> \
G({0,1}, {S,A}, P, S) \
P: \
S-> 0S0 | 1S1 | 00 | 11 \

### 3. К какому типу по Хомскому относится грамматика с приведенными правилами? Аргументируйте ответ.

a)S : '0' A '1' | '01'; \
'0' A : '00' A '1'; \
A : '01'; \

<b>Ответ:</b>

<i>Контекстно-зависимая грамматика. Достичь контекстно-свободной мешает контекст во второй строчке: \
  '0' A : '00' A '1' \
  ^^ \
  вот он </i>
  
b)S : A 'b'; \
A : A 'a' | 'ba';

<b>Ответ:</b>

<i>Регулярная. В первой строчке S : A 'b', где S,A ∈ VN, 'b' ∈ VT*; \
  Во второй строке: A : A 'a' | 'ba', где A ∈ VN, 'a', 'ba' ∈ VT*;</i>

### 4.Построить КС-грамматику, эквивалентную грамматике с правилами:

S : A B | A B S; \
A B : B A; \
B A : A B; \
A : 'a'; \
B : 'b';


<b>Ответ:</b>

4)G({a,b}, {S,A,B,T}, P, S) \
P: \
S: T | TS | ASB | BSA | ASBS | BSAS \
T: BA | AB \
A: 'a' \
B: 'b'

### 5.Построить регулярную грамматику, эквивалентную грамматике с правилами:

S : A '.' A; \
A : B | B A; \
B : '0' | '1';

<b>Ответ:</b>

S: 0A | 1A | 0S | 1S \
A: .B \
B: 0B | 1B | 0 | 1

### 6.Напишите регулярное выражение для:

а)Множества идентификаторов, где идентификатор – это последовательность букв или цифр, начинающаяся с буквы или _;

b)Множества вещественных констант с плавающей точкой, состоящих из целой части, десятичной точки, дробной части, символа е или Е, целого показателя степени с необязательным знаком и необязательного суффикса типа – одной из букв f, F, l или L. Целая и дробная части состоят из последовательностей цифр. Может отсутствовать либо целая, либо дробная часть (но не обе сразу).

a)

<b>Ответ:</b>

https://regexr.com/6gkdl  <-- Все тесты переключены в Match Full

b)

<b>Ответ:</b>

https://regexr.com/6gkue  <-- Все тесты переключены в Match Full


### 7. Для регулярных выражений из предыдущего задания постройте конечные автоматы. Изобразите их в виде графа.

1.

<b>Ответ:</b>

![reg1_v2](https://user-images.githubusercontent.com/60806892/156885008-bebc0802-d519-45ad-b072-cfb7bb02c2dc.svg)

2.

<b>Ответ:</b>

![reg2](https://user-images.githubusercontent.com/60806892/156885055-95249cea-986a-44f9-8173-66b78bef1208.svg)




